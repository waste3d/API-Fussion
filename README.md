# API Fusion (объединитель API)

API Fusion — fullstack проект: сервис-агрегатор, который объединяет несколько внешних API за одним единым интерфейсом и возвращает нормализованный ответ.

---

## Идея

Пользователь делает один запрос в наш API, а бэкенд параллельно ходит в несколько источников (например GitHub, HackerNews, RSS), собирает результаты, приводит их к единому формату и отдаёт клиенту.

Дополнительно:
- один источник может упасть — всё равно отдаём результаты остальных
- у каждого источника свой таймаут
- есть лог запросов и метрики по источникам
- есть кеш (позже)

---

## Стек

**Backend**
- Python + FastAPI
- async HTTP (httpx / aiohttp)
- Redis для кеша
- SQLite/Postgres для логов

**Frontend**
- React
- TailwindCSS
- красивые анимации (например Framer Motion)
- UI: поиск, фильтры, вкладка логов, статус источников

---

## Что будет в MVP

### 1) Единый endpoint поиска
`GET /v1/search?q=...&sources=github,hn&limit=...`

Ответ в едином формате:
- source
- title
- url
- snippet
- score (если применимо)
- timestamp (если есть)

### 2) Частичные результаты и ошибки по источникам
Если один источник недоступен:
- `items[]` всё равно возвращается (из доступных источников)
- `errors[]` содержит список проблемных источников и причину

### 3) Дашборд на фронте
- форма поиска + выбор источников
- выдача результатов
- вкладка “Логи” (история запросов, latency, cache hit/miss — позже)
- вкладка “Sources” (статус источников)

---

## Эндпоинты (план)

**System**
- `GET /health` — здоровье сервиса

**API v1**
- `GET /v1/sources` — доступные источники и их состояние (ok/error, latency)
- `GET /v1/search` — агрегированный поиск
- (опционально) `POST /v1/compose` — “рецепты” запросов (несколько шагов + merge/sort)
- (позже) `GET /v1/logs` — логи запросов

---

## Нефункциональные требования (взрослые детали)

- Таймаут на каждый источник (например 2–3 сек)
- Параллельные запросы к источникам
- Rate limiting на наш API (позже)
- Кеширование ответов (позже)
- Структурированные ошибки
- Удобная схема ответа (Pydantic модели)
- Логи запросов (позже)

---

## План разработки (шагами)

1. README, проектный план (этот файл)
2. Каркас бэкенда (FastAPI) + `/health`
3. Коннекторы: GitHub + HackerNews
4. `/v1/search` + нормализация + частичные результаты
5. Каркас фронтенда (React + Tailwind + анимации)
6. UI поиска + выдача результатов
7. Страница “Sources” (статусы/latency)
8. Логи запросов (SQLite/Postgres)
9. Кеш (Redis или in-memory TTL)

---

## Почему это хороший проект для портфолио

- Это не “CRUD ради CRUD”, а интеграционный сервис
- Показывает работу с внешними API, таймаутами и ошибками
- Демонстрирует архитектуру, нормализацию данных, наблюдаемость
- Фронтенд — не просто страничка, а полезный dashboard

---

## Лицензия
MIT (план)